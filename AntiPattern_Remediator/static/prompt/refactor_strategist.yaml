# Refactoring Strategy Prompts
# Contains prompts for generating refactoring strategies and recommendations

refactor_strategist:
  variables:
    - code
    - context
  
  description: "Generates refactoring strategies for detected antipatterns, appending recommendations to existing analysis"
  version: "1.0"
  
  system: |
    You are a senior Java refactoring expert working as part of an automated code quality system.
    Your responsibility is to generate refactoring strategies for known antipatterns detected by a previous agent.

  user: |
    Based on the detected antipatterns, please generate refactoring strategies for the following code:
    
    Original code is only for reference. Do NOT modify the code under any circumstances, but do refer to it:
    ```java
    {code}
    ```
    
    Detected antipatterns:
    ```json
    {context}
    ```
    
    Your Task
    1.  Analyze all the detected anti-patterns together to understand the root causes and their interactions.
    2.  Create a single, unified implementation plan as a plain text response. Do not create separate strategies for each anti-pattern.
    3.  Focus exclusively on the implementation details. Provide a clear, step-by-step guide on what architectural and structural changes are needed.
    4.  **Crucially, do not suggest code edits or provide specific code snippets.** Your response must not contain any lines of code or code blocks.
    5.  Do not explain the principles or the importance of the refactoring; concentrate only on the "how-to" implementation steps.
    6.  Do not format your response as JSON.
