# Legacy-Code-Migration
Research project in conjunction with IBM and UCL to migrate legacy codebases to modern solutions

# Java Anti-Patterns Analyzer (Agentic AI + ChromaDB + Granite)

This project identifies anti-patterns in Java code using an AI-powered pipeline built with LangGraph, LangChain, Ollama, and a ChromaDB-powered knowledge base.

---

## ğŸ“¦ Project Structure

```
java_antipatterns_analyzer/
â”œâ”€â”€ main.py                     # Entry point to run the LangGraph pipeline
â”œâ”€â”€ requirements.txt            # Python dependencies
â”œâ”€â”€ data/                       # Contains JSON-formatted anti-pattern definitions
â”‚   â”œâ”€â”€ srp_violation.json      # Example: SRP anti-pattern with multiple examples
â”œâ”€â”€ seed/
â”‚   â””â”€â”€ seed_all.py             # Scans all .json in `data/` and seeds ChromaDB
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ retriever/
â”‚   â”‚   â””â”€â”€ setup_vectorstore.py   # TextLoader-based embedding (optional)
â”‚   â”œâ”€â”€ llm/
â”‚   â”‚   â””â”€â”€ analyzer.py            # Prompt + LLM-based analyzer
â”‚   â””â”€â”€ pipeline/
â”‚       â””â”€â”€ antipattern_flow.py    # LangGraph pipeline: retrieve â†’ analyze â†’ display
â”œâ”€â”€ vector_store/              # Auto-generated by Chroma to persist vector index
```

---

## ğŸ§  Features

- Agentic pipeline built using LangGraph
- Anti-patterns seeded from structured JSON data (e.g. SRP violations)
- Uses ChromaDB to store and retrieve rich contextual knowledge
- Analyzes Java code using Granite 3.3 LLM via Ollama

---

## ğŸš€ Getting Started

### 1. Install dependencies

```bash
pip install -r requirements.txt
```

### 2. Seed the vector DB

```bash
python seed/seed_all.py
```

> This will scan all `.json` files in `data/` and embed them into `vector_store/`.

### 3. Run the pipeline

```bash
python main.py
```

> Youâ€™ll see a console output with detected anti-patterns and recommendations.

---

## ğŸ“ Adding New Patterns

To add new patterns:
1. Create a new JSON file in `data/` following the format in `srp_violation.json`
2. Rerun `python seed/seed_all.py`

You can add patterns like:
- God Object
- Long Method
- Feature Envy
- Switch Statements
- Data Clumps

---

## ğŸ“œ License

MIT â€” free to use, modify and distribute.
