# Legacy-Code-Migration
Research project in conjunction with IBM and UCL to migrate legacy codebases to modern solutions

# Java Anti-Patterns Analyzer (Agentic AI + ChromaDB + Granite)

This project identifies anti-patterns in Java code using an AI-powered pipeline built with LangGraph, LangChain, Ollama, and a ChromaDB-powered knowledge base.

---

## 📦 Project Structure

```
java_antipatterns_analyzer/
├── main.py                     # Entry point to run the LangGraph pipeline
├── requirements.txt            # Python dependencies
├── data/                       # Contains JSON-formatted anti-pattern definitions
│   ├── srp_violation.json      # Example: SRP anti-pattern with multiple examples
├── seed/
│   └── seed_all.py             # Scans all .json in `data/` and seeds ChromaDB
├── src/
│   ├── retriever/
│   │   └── setup_vectorstore.py   # TextLoader-based embedding (optional)
│   ├── llm/
│   │   └── analyzer.py            # Prompt + LLM-based analyzer
│   └── pipeline/
│       └── antipattern_flow.py    # LangGraph pipeline: retrieve → analyze → display
├── vector_store/              # Auto-generated by Chroma to persist vector index
```

---

## 🧠 Features

- Agentic pipeline built using LangGraph
- Anti-patterns seeded from structured JSON data (e.g. SRP violations)
- Uses ChromaDB to store and retrieve rich contextual knowledge
- Analyzes Java code using Granite 3.3 LLM via Ollama

---

## 🚀 Getting Started

### 1. Install dependencies

```bash
pip install -r requirements.txt
```

### 2. Seed the vector DB

```bash
python seed/seed_all.py
```

> This will scan all `.json` files in `data/` and embed them into `vector_store/`.

### 3. Run the pipeline

```bash
python main.py
```

> You’ll see a console output with detected anti-patterns and recommendations.

---

## 📁 Adding New Patterns

To add new patterns:
1. Create a new JSON file in `data/` following the format in `srp_violation.json`
2. Rerun `python seed/seed_all.py`

You can add patterns like:
- God Object
- Long Method
- Feature Envy
- Switch Statements
- Data Clumps

---

## 📜 License

MIT — free to use, modify and distribute.
